<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="author" content="oxxo.studio">
  <meta name="copyright" content="oxxo.studio">
  <title>SVG D3.js - 拖拉行為 ( Drag Behavior )  - demo2</title>
  <style>
    #r{
      position:absolute;
      width:50px;
      height:50px;
      background:#000;
    }
  </style>
  <script src="/js/lib/d3.v3.min.js"></script>
  <script>
    window.addEventListener('load',function(){
      
      var drag = d3.behavior.drag()  
                  .on('dragstart', function() { 
                    rect.style({'background':'red'}); 
                  })
                  .on('drag', function() { 
                    rect.style({
                      'left':(d3.event.x-25)+'px',
                      'top':(d3.event.y-25)+'px',
                      'background':'green'
                    }); 
                  })
                  .on('dragend', function() { 
                    rect.style({'background':'#000'}); 
                  });
        
      var rect = d3.select('#r')
                  .style({'left':'50px','top':'50px'})
                  .call(drag);
    },false);
  </script>
</head>

<body>
  <div id="r"></div>
</body>

</html>
