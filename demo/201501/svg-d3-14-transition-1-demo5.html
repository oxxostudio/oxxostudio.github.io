<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="author" content="oxxo.studio">
  <meta name="copyright" content="oxxo.studio">
  <title>SVG D3.js - transition 基本篇 demo5</title>
</head>
<script src="http://d3js.org/d3.v3.min.js"></script>
<!-- <script src="/js/lib/d3.v3.min.js"></script> -->


<style>
	div{
		position:absolute;
		display:inline-block;
		box-sizing: border-box;
		top:20px;
		width:100px;
		height:100px;
		padding:5px;
		font-size:12px;
		color:#fff;
	}
	.box1{
		left:10px;
		background:#c00;
	}
	.box2{
		left:120px;
		background:#095;
	}
	.box3{
		left:230px;
		background:#069;
	}
</style>
<body>
	<button onclick="d3Transition()">RESET</button>
	<button onclick="d3TransitionInterrupt()">Interrupt</button>
	<br/>
  <div class="box1">
  </div>
  <div class="box2">
  </div>
  <div class="box3">
  </div>

	<script>
	d3Transition();
	function d3Transition(){
		d3.selectAll('div')
		  .style({
				'top':'20px',
				'border':'none'
		  });
		d3.select('.box3')
		  .style({
				'left':'230px'
		  });
		d3.select('.box1')
			.transition()
			.duration(2000)
			.style({
				'top':'100px'
			})
			.each('start',function(){
				d3.select(this)
					.style({
						'border':'10px solid #000'
					});
			});
		d3.select('.box2')
			.transition()
			.duration(2000)
			.style({
				'top':'100px'
			})
			.each('end',function(){
				d3.select(this)
					.style({
						'border':'10px solid #000'
					});
			});
		d3.select('.box3')
			.transition()
			.duration(2000)
			.style({
				'top':'100px'
			})
			.each('interrupt',function(){
				d3.select(this)
					.style({
						'border':'10px solid #000'
					});
			});
	}
	function d3TransitionInterrupt(){
		d3.select('.box3')
			.transition()
			.duration(2000)
			.style({
				'left':'300px'
			});
	}
	</script>
</body>

</html>
