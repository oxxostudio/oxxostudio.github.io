$(function(){function t(){e.show(),e.find("i").on("click",function(){e.find("i").addClass("not-this"),$(this).removeClass("not-this"),ga("send","event","filter","click",$(this).text());var t=$(this).attr("class");"tag-all"==t?(n.find("li").removeAttr("style"),a.val(""),s.html("")):(n.find("li").hide(),n.find("li."+t).show(),a.val(""))})}function i(){a.on("change paste keyup",function(){function t(t){s.html('main .content li:not([data-title*="'+t+'"]) {display: none;}')}var i=$(this).val().toLowerCase();ga("send","event","listSearch","input",i),$(".content i.tag-all").hasClass("not-this")?(e.find("i").addClass("not-this"),$(".content i.tag-all").removeClass("not-this"),n.find("li").removeAttr("style"),t(i)):i?t(i):s.html("")})}var n=$(".content ul"),e=$(".tag-list"),a=$(".list-search input"),s=$(".list-search-style");$.getJSON("/json/pageList.json",function(e){for(var a=0;a<e.length;a++)n.append('<li class="'+e[a].tag+'" data-title="'+e[a].title.toLowerCase()+'"><i></i><h3>'+e[a].date+'</h3><a href="'+e[a].site+'"><h2>'+e[a].title+"</h2></a></li>");$(".content h1 span").text(e.length),t(),i()})});