$(function(){var t=$(".content ul"),i=$(".tag-list"),n=$(".list-search input"),e=$(".list-search-style");$.getJSON("/json/pageList.json",function(a){for(var s=0;s<a.length;s++)t.append('<li class="'+a[s].tag+'" data-title="'+a[s].title.toLowerCase()+'"><i></i><h3>'+a[s].date+'</h3><a href="'+a[s].site+'"><h2>'+a[s].title+"</h2></a></li>");$(".content h1 span").text(a.length),i.show(),i.find("i").on("click",function(){i.find("i").addClass("not-this"),$(this).removeClass("not-this"),ga("send","event","filter","click",$(this).text());var a=$(this).attr("class");"tag-all"==a?(t.find("li").removeAttr("style"),n.val(""),e.html("")):(t.find("li").hide(),t.find("li."+a).show(),n.val(""))}),n.on("change paste keyup",function(){var n=$(this).val().toLowerCase();function a(t){e.html('main .content li:not([data-title*="'+t+'"]) {display: none;}')}ga("send","event","listSearch","input",n),$(".content i.tag-all").hasClass("not-this")?(i.find("i").addClass("not-this"),$(".content i.tag-all").removeClass("not-this"),t.find("li").removeAttr("style"),a(n)):n?a(n):e.html("")})})});