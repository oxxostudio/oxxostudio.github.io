$(function(){function t(){a=h.width()>1e3?h.width():1e3,contantWidth=s.width();var t=a/2+contantWidth/2+10;$(".social-icon").css({left:t+"px"})}function o(t){$(".icon-home").on("click",function(){window.open("/index.html","_self")}),$(".icon-list").on("click",function(){window.open("/list.html","_self")}),$(".icon-facebook").on("click",function(){window.open("http://www.facebook.com/share.php?u="+t,"_blank"),i("share_to_facebook")}),$(".icon-google").on("click",function(){window.open("https://plus.google.com/share?url="+t,"_blank"),i("share_to_google")}),$(".icon-twitter").on("click",function(){window.open("http://twitter.com/home/?status="+t,"_blank"),i("share_to_twitter")}),$(".goto-top").on("click",function(){$("html,body").animate({scrollTop:"0"},750),i("goto_top")}),$(".previous-next").on("click",function(){i("previous-next")}),$(".content a").on("click",function(){var t=$(this).attr("href");i("link-to:"+t)})}function e(t,o){$.getJSON("/json/pageList.json",function(e){dataLength=e.length;var i,a,c=[],l=0;for(i=0;i<dataLength;i++)e[i].tag==t&&(c[l]=e[i],l+=1),-1!=e[i].site.indexOf(o)&&(a=i);var r=[];if(5>=l)for(console.log(l),n=0;l>n;n++)$("#other-articles").append('<a href="'+c[n].site+'"><div><img src="'+c[n].img+'"><h4>'+c[n].title+"</h4></div></a>");else for(n=l;n>=l-4;n--){var h=Math.floor(n*Math.random(n));r[n-5]=c.splice(h,1),$("#other-articles").append('<a href="'+r[n-5][0].site+'"><div><img src="'+r[n-5][0].img+'"><h4>'+r[n-5][0].title+"</h4></div></a>")}0==a?($(".next-article h4").html("沒有下一篇文章了呦~"),$(".previous-article h4").html("<a href="+e[a+1].site+">"+e[a+1].title+"</a>")):a==dataLength-1?($(".previous-article h4").html("沒有前一篇文章了呦~"),$(".next-article h4").html("<a href="+e[a-1].site+">"+e[a-1].title+"</a>")):($(".previous-article h4").html("<a href="+e[a+1].site+">"+e[a+1].title+"</a>"),$(".next-article h4").html("<a href="+e[a-1].site+">"+e[a-1].title+"</a>"))})}function i(t){ga("send","event",t,t)}var n,a,c,l,r=$(".article-date").attr("tag"),h=$(window),s=($(document),$(".content")),f=location.href;c=f.split("/"),l=c.pop(),$("pre").addClass("prettyprint"),$(".preview-img").unwrap("p"),$(".tag").addClass("tag-"+r),$(".md a").attr("target","_blank"),e("tag-"+r,l),t(),o(f),h.resize(t),h.scroll(function(){h.scrollTop()>150?$(".social-icon").not("animated").fadeIn(300):$(".social-icon").not("animated").fadeOut(300)})});