!async function(){const e=location.search.substring(1).split("="),t=e[0]||"page",s=1*e[1]||1,n=await(()=>fetch("/json/pageList.json").then(e=>e.json()).then(e=>e))(),i=await(()=>fetch("/json/articles.json").then(e=>e.json()).then(e=>e))();document.getElementById("google_loading").style.display="none";const l=document.querySelector("#content-grid>ul"),o=(e=>{let t;return t="page"!=e?n.filter(t=>{if(t.tag==e)return t}):n})(t),a=o.length,r=Math.ceil(a/6);let c;c=a<7?a:s==r?s%6:6;for(let e=0;e<c;e++){let t=o[e+6*(s-1)];t.time=t.site.replace(".html","").split("/")[2],t.description=t.site.replace(".html","").split("/")[3];let n="/img"+t.site.replace(".html","-s.jpg");t.img&&(n=t.img);let a=`<li>\n    <i class="${t.tag}"></i>\n    <h2>${t.title}</h2>\n    <h3><i class="icon-date"></i>${t.date}</h3>\n    <h3><i class="icon-author"></i>OXXO.STUDIO</h3>\n    <a href="${t.site}">\n    <div class="content-img">\n    <span></span>\n    <img class="lazy" data-src="${n}">\n    </div>\n    </a>\n    <div class="content-grid-line"></div>\n    <h4 content="${t.site}">${i[t.time][t.description].body}</h4>\n    <a href="${t.site}"><div class="read-more">Read more</div></a>\n    </li>`;l.innerHTML=l.innerHTML+a}let d=document.querySelectorAll(".lazy"),h=window.innerHeight;d.forEach(e=>{let t=e.getBoundingClientRect().top;if(h-t>0){let t=e.getAttribute("data-src");e.setAttribute("src",t),e.classList.remove("lazy")}});const g=()=>{let e=this.pageYOffset,t=this.innerHeight;(d=document.querySelectorAll(".lazy")).length>0?d.forEach(s=>{let n=s.getBoundingClientRect().top;if(e+t-n>0){let e=s.getAttribute("data-src");s.setAttribute("src",e),s.removeAttribute("data-src"),s.classList.remove("lazy")}}):window.removeEventListener("scroll",g)};window.addEventListener("scroll",g);const u=r<6?r:5;document.querySelector(".go-all").classList.add("show"),document.querySelector(".dot2").classList.add("show"),(s>1||"page"!=t)&&(document.querySelector(".go-home").classList.add("show"),document.querySelector(".dot").classList.add("show"));const m=document.querySelectorAll(".page-num");let p=[];for(let e=0;e<u;e++)p[e]=e;p.map(e=>(s<=1?e+=s:e=2==s?e+s-1:e+s-2,e)).forEach((e,n)=>{e<=r&&(m[n].classList.add("show"),m[n].innerHTML=e,e<=1&&"page"==t?m[n].setAttribute("href","/"):m[n].setAttribute("href",`/index.html?${t}=${e}`),e==s&&m[n].classList.add("now"))})}();