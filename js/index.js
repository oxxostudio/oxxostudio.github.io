!async function(){const t=location.search.substring(1).split("="),e=t[0]||"page",i=1*t[1]||1,s=await(()=>fetch("/json/pageList.json").then(t=>t.json()).then(t=>t))(),n=await(()=>fetch("/json/articles.json").then(t=>t.json()).then(t=>t))();document.getElementById("google_loading").style.display="none";const l=document.querySelector("#content-grid>ul"),o=(t=>{let e;return e="page"!=t?s.filter(e=>{if(e.tag==t)return e}):s})(e),a=o.length,r=Math.ceil(a/6);let c;c=a<7?a:i==r?i%6:6;for(let t=0;t<c;t++){let e=o[t+6*(i-1)];e.time=e.site.replace(".html","").split("/")[2],e.description=e.site.replace(".html","").split("/")[3];let s="/img"+e.site.replace(".html","-s.jpg");e.img&&(s=e.img);let a=`<li>\n    <i class="${e.tag}"></i>\n    <h2>${e.title}</h2>\n    <h3><i class="icon-date"></i>${e.date}</h3>\n    <h3><i class="icon-author"></i>OXXO.STUDIO</h3>\n    <a href="${e.site}" title="${e.title}">\n    <div class="content-img">\n    <span></span>\n    <img class="lazy" data-src="${s}" alt="${e.title}">\n    </div>\n    </a>\n    <div class="content-grid-line"></div>\n    <h4 content="${e.site}">${n[e.time][e.description].body}</h4>\n    <a href="${e.site}"><div class="read-more" title="${e.title}">Read more</div></a>\n    </li>`;l.innerHTML=l.innerHTML+a}let d=document.querySelectorAll(".lazy"),h=window.innerHeight;d.forEach(t=>{let e=t.getBoundingClientRect().top;if(h-e>0){let e=t.getAttribute("data-src");t.setAttribute("src",e),t.classList.remove("lazy")}});const g=()=>{let t=this.pageYOffset,e=this.innerHeight;(d=document.querySelectorAll(".lazy")).length>0?d.forEach(i=>{let s=i.getBoundingClientRect().top;if(t+e-s>0){let t=i.getAttribute("data-src");i.setAttribute("src",t),i.removeAttribute("data-src"),i.classList.remove("lazy")}}):window.removeEventListener("scroll",g)};window.addEventListener("scroll",g);const u=r<6?r:5;document.querySelector(".go-all").classList.add("show"),document.querySelector(".dot2").classList.add("show"),(i>1||"page"!=e)&&(document.querySelector(".go-home").classList.add("show"),document.querySelector(".dot").classList.add("show"));const m=document.querySelectorAll(".page-num");let p=[];for(let t=0;t<u;t++)p[t]=t;p.map(t=>(i<=1?t+=i:t=2==i?t+i-1:t+i-2,t)).forEach((t,s)=>{t<=r&&(m[s].classList.add("show"),m[s].innerHTML=t,t<=1&&"page"==e?m[s].setAttribute("href","/"):m[s].setAttribute("href",`/index.html?${e}=${t}`),t==i&&m[s].classList.add("now"))})}();