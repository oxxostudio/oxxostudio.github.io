$(function(){function i(i){$.getJSON("/json/pageList.json",function(n){function a(i){var e,t;for(t=i+c,t>=s&&(t=s),e=i;t>e;e++)$("#content-grid>ul").append('<li><i class="'+n[e].tag+'"></i><h2>'+n[e].title+'</h2><h3><i class="icon-date"></i>'+n[e].date+'</h3><h3><i class="icon-author"></i>OXXO.STUDIO</h3><a href="'+n[e].site+'" title="'+n[e].title+'"><div class="content-img"><span></span><img src="'+n[e].img+'"></div></a><div class="content-grid-line"></div><h4 content="'+n[e].site+'"></h4><a href="'+n[e].site+'"><div class="read-more">Read more</div></a></li>')}var c;s=n.length,c=6>s?s:6;var d=-1;a(6*(d+i)),o(),e(s,i),t()})}function n(i,n){$.getJSON("/json/pageList.json",function(t){function c(i){var n,e;for(e=i+d,e>=h&&(e=h),n=i;e>n;n++)$("#content-grid>ul").append('<li><i class="'+l[n].tag+'"></i><h2>'+l[n].title+'</h2><h3><i class="icon-date"></i>'+l[n].date+'</h3><h3><i class="icon-author"></i>OXXO.STUDIO</h3><a href="'+l[n].site+'"><div class="content-img"><span></span><img src="'+l[n].img+'"></div></a><div class="content-grid-line"></div><h4 content="'+l[n].site+'"></h4><a href="'+l[n].site+'"><div class="read-more">Read more</div></a></li>')}var d;s=t.length;var r,d,l=[],h=0;for(r=0;s>r;r++)t[r].tag==i&&(l[h]=t[r],h+=1);d=6>h?h:6;var u=-1;c(6*(u+n)),o(),e(h,n),a()})}function e(i,n){var e,t;for(e=Math.ceil(i/6),t=1;e>=t;t++)$("#page-num").append("<div>"+t+"</div>");$("#page-num div").hide(),n-3>=0&&$("#page-num div").eq(n-3).show(),n-2>=0&&$("#page-num div").eq(n-2).show(),$("#page-num div").eq(n-1).show(),$("#page-num div").eq(n).show(),$("#page-num div").eq(n+1).show(),$("#page-num div").eq(n+2).show(),$("#page-num div").eq(n+3).show(),$("#page-num div").eq(n-1).css({background:"#888",color:"#fff"})}function t(){$("#page-num div").on("click",function(){var i=$(this).index()+1;1==i?window.open(v,"_self"):window.open(v+"index.html?="+i,"_self")})}function a(){$("#page-num div").on("click",function(){var i=$(this).index()+1;1==i?window.open(v+"index.html?"+r,"_self"):window.open(v+"index.html?"+r+"="+i,"_self")})}function o(){$("#content-grid>ul").find("h4").each(function(){var i=$(this),n=i.attr("content");$.ajax({url:n,success:function(n){for(var e=n.substr(0,1e3),t=$.parseHTML(e),a=0;a<t.length;a++)if("description"==t[a].name)return void i.html(t[a].content.substr(0,105)+" ...")}})})}var s,c,d,r,l=($(window),location.href),h=l.split("?"),u=l.split("/"),v=u[0]+"//"+u[2]+"/";h[1]?(c=h[1].split("="),r=c[0],d=Number(c[1]),d?""==c[0]?i(d):n(r,d):n(r,1)):i(1)});