!async function(){const t=location.search.substring(1).split("="),e=t[0]||"page",i=1*t[1]||1,n=await(()=>fetch("/json/pageList.json").then(t=>t.json()).then(t=>t))(),s=await(()=>fetch("/json/articles.json").then(t=>t.json()).then(t=>t))();document.getElementById("google_loading").style.display="none";const l=document.querySelector("#content-grid>ul"),o=(t=>{let e;return e="page"!=t?n.filter(e=>{if(e.tag==t)return e}):n})(e),a=o.length,c=Math.ceil(a/6);let r;r=a<7?a:i==c?i%6:6;for(let t=0;t<r;t++){let e=o[t+6*(i-1)];e.time=e.site.replace(".html","").split("/")[2],e.description=e.site.replace(".html","").split("/")[3];let n="/img"+e.site.replace(".html",".jpg");e.img&&(n=e.img);let a=`<li>\n    <i class="${e.tag}"></i>\n    <h2>${e.title}</h2>\n    <h3><i class="icon-date"></i>${e.date}</h3>\n    <h3><i class="icon-author"></i>OXXO.STUDIO</h3>\n    <a href="${e.site}" title="${e.title}">\n    <div class="content-img">\n    <span></span>\n    <img class="lazy" width="1" height="1" data-src="${n}" alt="${e.title}">\n    </div>\n    </a>\n    <div class="content-grid-line"></div>\n    <h4 content="${e.site}">${s[e.time][e.description].body}</h4>\n    <a href="${e.site}"><div class="read-more" title="${e.title}"></div></a>\n    </li>`;l.innerHTML=l.innerHTML+a}let d=document.querySelectorAll(".lazy"),h=window.innerHeight;d.forEach(t=>{let e=t.getBoundingClientRect().top;if(h-e>0){let e=t.getAttribute("data-src");t.setAttribute("src",e),t.classList.remove("lazy")}});const g=()=>{let t=this.pageYOffset,e=this.innerHeight;(d=document.querySelectorAll(".lazy")).length>0?d.forEach(i=>{let n=i.getBoundingClientRect().top;if(t+e-n>0){let t=i.getAttribute("data-src");i.setAttribute("src",t),i.removeAttribute("data-src"),i.classList.remove("lazy")}}):window.removeEventListener("scroll",g)};window.addEventListener("scroll",g);const u=c<6?c:5;document.querySelector(".go-all").classList.add("show"),document.querySelector(".dot2").classList.add("show"),(i>1||"page"!=e)&&(document.querySelector(".go-home").classList.add("show"),document.querySelector(".dot").classList.add("show"));const m=document.querySelectorAll(".page-num");let p=[];for(let t=0;t<u;t++)p[t]=t;p.map(t=>(i<=1?t+=i:t=2==i?t+i-1:t+i-2,t)).forEach((t,n)=>{t<=c&&(m[n].classList.add("show"),m[n].innerHTML=t,t<=1&&"page"==e?m[n].setAttribute("href","/"):m[n].setAttribute("href",`/index.html?${e}=${t}`),t==i&&m[n].classList.add("now"))})}();