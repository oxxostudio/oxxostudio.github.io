!async function(){const e=location.search.substring(1).split("="),t=e[0]||"page",n=1*e[1]||1,i=await(()=>fetch("/json/pageList.json").then(e=>e.json()).then(e=>(document.getElementById("google_loading").style.display="none",e)))(),s=await(()=>fetch("/json/articles.json").then(e=>e.json()).then(e=>(document.getElementById("google_loading").style.display="none",e)))(),l=document.querySelector("#content-grid>ul"),a=(e=>{let t;return t="page"!=e?i.filter(t=>{if(t.tag==e)return t}):i})(t),o=a.length,r=o<7?o:6;for(let e=0;e<r;e++){let t=a[e+6*(n-1)];t.time=t.site.replace(".html","").split("/")[2],t.description=t.site.replace(".html","").split("/")[3];let i="/img"+t.site.replace(".html","-s.jpg");t.img&&(i=t.img);let o=`<li>\n    <i class="${t.tag}"></i>\n    <h2>${t.title}</h2>\n    <h3><i class="icon-date"></i>${t.date}</h3>\n    <h3><i class="icon-author"></i>OXXO.STUDIO</h3>\n    <a href="${t.site}">\n    <div class="content-img">\n    <span></span>\n    <img class="lazy" data-src="${i}">\n    </div>\n    </a>\n    <div class="content-grid-line"></div>\n    <h4 content="${t.site}">${s[t.time][t.description].body}</h4>\n    <a href="${t.site}"><div class="read-more">Read more</div></a>\n    </li>`;l.innerHTML=l.innerHTML+o}let c=document.querySelectorAll(".lazy"),d=window.innerHeight;c.forEach(e=>{let t=e.getBoundingClientRect().top;if(d-t>0){let t=e.getAttribute("data-src");e.setAttribute("src",t),e.classList.remove("lazy")}}),window.addEventListener("scroll",e=>{let t=this.pageYOffset;d=this.innerHeight,(c=document.querySelectorAll(".lazy")).length>0&&c.forEach(e=>{let n=e.getBoundingClientRect().top;if(t+d-n>0){let t=e.getAttribute("data-src");e.setAttribute("src",t),e.classList.remove("lazy")}})});const h=Math.floor(o/6)+1,g=h<6?h:5;(n>1||"page"!=t)&&(document.querySelector(".go-home").classList.add("show"),document.querySelector(".dot").classList.add("show"));const u=document.querySelectorAll(".page-num");let m=[];for(let e=0;e<g;e++)m[e]=e;m.map(e=>(n<=1?e+=n:e=2==n?e+n-1:e+n-2,e)).forEach((e,i)=>{e<h&&(u[i].classList.add("show"),u[i].innerHTML=e,e<=1&&"page"==t?u[i].setAttribute("href","/"):u[i].setAttribute("href",`/index.html?${t}=${e}`),e==n&&u[i].classList.add("now"))})}();